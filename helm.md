---
title: Helm
category: Devops
layout: 2017/sheet
intro: |
  [Helm](https://helm.sh/) is a package manager for Kubernetes, that helps in defining, installing and updating k8s applications.
---

Helm Charts
-------------

Creating helm-charts
-------------

### `helm create`

```
$ helm create <helm-chart-name>
```

The `helm create` command generates the following folder structure

```
<helm-chart-name>
  |- .helmignore   # Patterns to ignore when packaging Helm charts.
  |
  |- Chart.yaml    # Information about your chart
  |
  |- values.yaml   # The default values for your templates
  |
  |- charts/       # Charts that this chart depends on
  |
  |- templates/    # The template files
```

### `Writing Chart.yaml`

```yml
apiVersion: The chart API version, always "v1" (required)
name: The name of the chart (required)
version: A SemVer 2 version (required)
kubeVersion: A SemVer range of compatible Kubernetes versions (optional)
description: A single-sentence description of this project (optional)
keywords:
  - A list of keywords about this project (optional)
home: The URL of this project's home page (optional)
sources:
  - A list of URLs to source code for this project (optional)
maintainers: # (optional)
  - name: The maintainer's name (required for each maintainer)
    email: The maintainer's email (optional for each maintainer)
    url: A URL for the maintainer (optional for each maintainer)
engine: gotpl # The name of the template engine (optional, defaults to gotpl)
icon: A URL to an SVG or PNG image to be used as an icon (optional).
appVersion: The version of the app that this contains (optional). This needn't be SemVer.
deprecated: Whether this chart is deprecated (optional, boolean)
tillerVersion: The version of Tiller that this chart requires. This should be expressed as a SemVer range: ">2.0.0" (optional)
```

### `Writing templates`

Templates generate manifest files, which are YAML-formatted resource descriptions that Kubernetes can understand.
For more details on templates, please refer to the official [doc](https://docs.helm.sh/chart_template_guide/#the-chart-template-developer-s-guide).

### `Adding Dependencies`

Sometimes your chart may depend on some other charts, or might simply represent a collection of charts. These dependencies can be dynamically linked through the `requirements.yaml` file.

Structure of a `requirements.yaml` file is as follows:

```yml
dependencies:
 - name: <name-of-the-dependent-chart>
   repository: <repo-where-the-dependent-chart-should-be-pulled-from>
   version: <version-of-the-dependent-chart-to-be-pulled>
   alias: <alias-name-for-the-dependent-chart>                             # [optional]
   condition: <condition-on-which-the-dependent-chart-should-be-installed> # [optional]
   tags: <list-of-labels-associated-with-the-chart>                        # [optional]
```

After creating this file, a `requirements.lock` should be generated by running the following command in the chart folder.

```
$ helm dependency update
```

helm-chart Repositories
-------------

### `Add repository`

```
$ helm repo add <repo-name>
```

### `List repositories`

```
$ helm repo list
```

### `Update repositories`

```
$ helm repo update
```

### `Delete repository`

```
$ helm repo remove <repo-name>
```

Installing helm-charts
-------------

There are five different ways you can express the chart you want to install

### `By chart reference`

```
$ helm install <repo-name>/<chart-name>
```

### `By path to a packaged chart`
```
$ helm install ./<chart-name>-<version>.tgz
```

### `By path to an unpacked chart directory`
```
$ helm install ./<folder-name-of-chart>
```

### `By absolute URL`
```
$ helm install <url-of-chart-in-repo>
```

### `By chart reference and repo url`
```
$ helm install â€“repo <repo-url> <chart-name>
```
